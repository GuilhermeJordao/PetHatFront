<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@600&display=swap"
  rel="stylesheet"
/>

<meta charset="utf-8" />
<app-navbar></app-navbar>
<div class="Screen">
  <form action="">
    <h1 class="titulolog">Agendar Consulta</h1>
    <div class="centered">
      <div class="formLogin">
        <div class="form">
          <div>
            <img
              class="PerfilImg"
              src="https://i.imgur.com/pe2N5IX.png"
              alt="Imagem do PET"
              *ngIf="ImagemPadrao || perfilImg === ''"
            />
            <img
              class="PerfilImg"
              [src]="perfilImg"
              alt="Imagem do PET"
              *ngIf="ImagemEditada && perfilImg !== ''"
            />
          </div>
          <label class="SelectPETtxt" for="SelectPET">Selecionar Pet</label>
          <select
            name="SelectPET"
            id="Esp-select"
            class="SelectPET"
            [(ngModel)]="petId"
            (change)="updatePetImage()"
          >
            <option></option>
            <option *ngFor="let pet of pets" [value]="pet._id">
              {{ pet.nome }}
            </option>
          </select>
        </div>
      </div>
      <h3 class="titulolog">Especialidade da Consulta</h3>
      <div class="formLogin">
        <label class="Especialidadetxt" for="Especialidade"
          >Selecionar Especialidade</label
        >
        <select
          name="Especialidade"
          id="Esp-select"
          [(ngModel)]="especialidade"
          (ngModelChange)="buscarVeterinario()"
          class="Especialidade"
        >
          <option value=""></option>
          <option value="Quiropraxia">Quiropraxia</option>
          <option value="Clinico Geral">Clinico Geral</option>
          <option value="Cirurgia">Cirurgia</option>
          <option value="Acupuntura">Acupuntura</option>
          <option value="Medicina Felina">Medicina Felina</option>
          <option value="Animais Exóticos">Animais Exóticos</option>
          <option value="Medicina Canina">Medicina Canina</option>
          <option value="Cardiologia">Cardiologia</option>
          <option value="Oncologia">Oncologia</option>
        </select>
        <div>
          <button class="BtnSubmit" (click)="EspecialidadeSelecionada()">
            Selecionar
          </button>
        </div>
      </div>
      <h3 class="titulolog" *ngIf="Especialidade">Veterinarios Disponiveis</h3>
      <div class="formLogin2" *ngIf="Especialidade">
        <div class="form">
          <div class="Cartões">
            <mat-card class="example-card" *ngFor="let vet of vets">
              <!-- <img
                class="img"
                mat-card-image
                src="https://i.pinimg.com/736x/1f/aa/13/1faa13aff5e9110883ed8b97a3302e17.jpg"
                alt="Photo of a Shiba Inu"
              /> -->
              <mat-card-content>
                <p>{{ vet.nome }}</p>
                <p>Especialidade: {{ vet.especialidade }}</p>
                <p>Turno: {{ vet.turno }}</p>
              </mat-card-content>
              <mat-card-actions>
                <button mat-button (click)="pegarVet(vet.email)">
                  Selecionar
                </button>
              </mat-card-actions>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
    <div class="formLogin" *ngIf="Especialidade">
      <div class="form">
        <h3 class="titulodiv2">Horarios Disponiveis</h3>

        <label for="Dia">Data:</label><br />
        <input
          [(ngModel)]="data"
          class="Especialidade"
          type="text"
          name="Dia"
          placeholder="DD/MM/YYYY"
        /><br />

        <select
          name="Especialidade"
          id="Esp-select"
          [(ngModel)]="horario"
          class="Especialidade"
          *ngIf="manha"
        >
          <option value="10:00">10:00</option>
          <option value="10:30">10:30</option>
          <option value="11:00">11:00</option>
          <option value="11:30">11:30</option>
          <option value="12:00">12:00</option>
          <option value="12:30">12:30</option>
          <option value="13:00">13:00</option>
          <option value="13:30">13:30</option>
        </select>

        <select
          name="Especialidade"
          id="Esp-select"
          [(ngModel)]="horario"
          class="Especialidade"
          *ngIf="tarde"
        >
          <option value="13:30">13:30</option>
          <option value="14:00">14:00</option>
          <option value="14:30">14:30</option>
          <option value="15:00">15:00</option>
          <option value="15:30">15:30</option>
          <option value="16:00">16:00</option>
          <option value="16:30">16:30</option>
          <option value="17:00">17:00</option>
          <option value="17:30">17:30</option>
          <option value="18:00">18:00</option>
        </select>

        <select
          name="Especialidade"
          id="Esp-select"
          [(ngModel)]="horario"
          class="Especialidade"
          *ngIf="noite"
        >
          <option value="19:00">19:00</option>
          <option value="19:30">19:30</option>
          <option value="20:00">20:00</option>
          <option value="21:30">21:30</option>
          <option value="22:00">22:00</option>
          <option value="22:30">22:30</option>
          <option value="23:00">23:00</option>
        </select>
      </div>
    </div>
    <div class="alert alert-danger" *ngIf="erroMensagem">
      Horario de agendamento indisponível
    </div>
    <div class="alert alert-success" *ngIf="sucessoMensagem">
      Consulta agendada com sucesso
    </div>
    <button type="submit" class="BtnHour" (click)="agendar()">
      Fazer Agendamento
    </button>
  </form>
</div>
